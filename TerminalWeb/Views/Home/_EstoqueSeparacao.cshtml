<div class="container-fluid p-3">
    <div class="row justify-content-center">
        <div class="col-12 col-md-10 col-lg-8">
            <!-- Cabeçalho -->
            <div class="text-center mb-3">
                <h1 class="fw-bold text-primary mb-2" style="font-size: 3rem;">
                    <i class="bi bi-box-seam me-3" style="font-size: 3rem;"></i>Estoque/Separação
                </h1>
            </div>

            <!-- Informações do Pedido -->
            <div class="card shadow-sm mb-0">
                <div class="card-body p-3">
                    <!-- Primeira linha: Código do Pedido e Data de Entrega -->
                    <div class="row mb-1 pb-1 border-bottom">
                        <div class="col-md-6">
                            <strong class="text-primary" style="font-size: 1.5rem;">
                                <i class="bi bi-tag me-2" style="font-size: 1.5rem;"></i>Código Pedido: 
                            </strong>
                            <span class="fw-bold" id="estoqueCodPedido" style="font-size: 2rem;">-</span>
                        </div>
                        <div class="col-md-6 text-md-end">
                            <strong class="text-primary" style="font-size: 1.5rem;">
                                <i class="bi bi-calendar-event me-2" style="font-size: 1.5rem;"></i>Data Entrega: 
                            </strong>
                            <span id="estoqueDataEntrega" style="font-size: 1.75rem;">-</span>
                        </div>
                    </div>

                    <!-- Segunda linha: Descrição -->
                    <div class="row mb-1 pb-1 border-bottom">
                        <div class="col-12">
                            <strong class="text-primary" style="font-size: 1.5rem;">
                                <i class="bi bi-box me-2" style="font-size: 1.5rem;"></i>Descrição: 
                            </strong>
                            <span id="estoqueDescricao" style="font-size: 1.75rem;">-</span>
                        </div>
                    </div>

                    <!-- Terceira linha: Tamanho -->
                    <div class="row mb-1 pb-1 border-bottom">
                        <div class="col-12">
                            <strong class="text-primary" style="font-size: 1.5rem;">
                                <i class="bi bi-rulers me-2" style="font-size: 1.5rem;"></i>Tamanho: 
                            </strong>
                            <span id="estoqueTamanho" style="font-size: 1.75rem;">-</span>
                        </div>
                    </div>

                    <!-- Quarta linha: Quantidade -->
                    <div class="row mb-1">
                        <div class="col-12">
                            <strong class="text-primary" style="font-size: 1.5rem;">
                                <i class="bi bi-123 me-2" style="font-size: 1.5rem;"></i>Quantidade: 
                            </strong>
                            <span class="fw-bold" id="estoqueQuantidade" style="font-size: 2.5rem;">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controle de Estoque -->
         <div class="card shadow-sm">
    <div class="card-body p-2">
        <div class="mb-1">
            <div class="row align-items-end g-1">

                <!-- Em Estoque -->
                <div class="col-md-6">
                    <label for="estoqueEmEstoque" class="form-label fw-bold mb-1 text-start d-block" style="font-size: 2rem;">
                        <i class="bi bi-box-arrow-in-down me-2" style="font-size: 2rem;"></i>Em Estoque
                    </label>
                    <div class="input-group" style="height: 100px;">
                        <button type="button" class="btn btn-outline-danger" id="btnDiminuirEstoque" onclick="diminuirEstoque()" style="min-width: 100px; font-size: 3rem; padding: 0;">
                            <i class="bi bi-dash-lg"></i>
                        </button>
                        <input type="number" class="form-control text-center fw-bold"
                            id="estoqueEmEstoque" value="0" min="0"
                            style="font-size: 3rem; height: 100px; border-left: 0; border-right: 0;">
                        <button type="button" class="btn btn-outline-success" id="btnAumentarEstoque" onclick="aumentarEstoque()" style="min-width: 100px; font-size: 3rem; padding: 0;">
                            <i class="bi bi-plus-lg"></i>
                        </button>
                    </div>
                </div>

                <!-- Cortar -->
                <div class="col-md-6">
                    <label for="estoqueCortar" class="form-label fw-bold mb-1 text-start d-block" style="font-size: 2rem;">
                        <i class="bi bi-scissors me-2" style="font-size: 2rem;"></i>Cortar
                    </label>
                    <div class="input-group" style="height: 100px;">
                        <button type="button" class="btn btn-outline-danger" id="btnDiminuirCortar" onclick="diminuirCortar()" style="min-width: 100px; font-size: 3rem; padding: 0;">
                            <i class="bi bi-dash-lg"></i>
                        </button>
                        <input type="number" class="form-control text-center fw-bold"
                            id="estoqueCortar" value="0" min="0"
                            style="font-size: 3rem; height: 100px; border-left: 0; border-right: 0;">
                        <button type="button" class="btn btn-outline-success" id="btnAumentarCortar" onclick="aumentarCortar()" style="min-width: 100px; font-size: 3rem; padding: 0;">
                            <i class="bi bi-plus-lg"></i>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

            <!-- Botões de Ação -->
            <div class="mt-3">
                <div class="row g-2">
                    <div class="col-6 col-md-3">
                        <button type="button" class="btn btn-primary btn-lg w-100" id="btnCortar" onclick="validarECortar()" style="font-size: 1.5rem; padding: 1rem;">
                            <i class="bi bi-scissors me-2"></i>Cortar
                        </button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button type="button" class="btn btn-primary btn-lg w-100" id="btnCosturar" onclick="processarCostura()" style="font-size: 1.5rem; padding: 1rem;">
                            <i class="bi bi-thread me-2"></i>Costurar
                        </button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button type="button" class="btn btn-primary btn-lg w-100" id="btnSublimacao" onclick="processarSublimacao()" style="font-size: 1.5rem; padding: 1rem;">
                            <i class="bi bi-printer me-2"></i>Sublimação
                        </button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button type="button" class="btn btn-primary btn-lg w-100" id="btnSilk" onclick="processarSilk()" style="font-size: 1.5rem; padding: 1rem;">
                            <i class="bi bi-palette me-2"></i>Silk
                        </button>
                    </div>
                </div>
            </div>

            <!-- Botão Sair -->
            <div class="mt-3 text-center">
                <button type="button" class="btn btn-outline-danger btn-lg w-100" id="btnSairEstoque" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-2"></i>Sair
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    // Função global para inicializar os eventos do estoque
    function inicializarEstoqueSeparacao() {
        // Botões de incremento/decremento - Em Estoque
        var inputEstoque = document.getElementById('estoqueEmEstoque');

        if (inputEstoque) {
            // Prevenir entrada manual de valores negativos e aceitar apenas números
            inputEstoque.addEventListener('input', function() {
                var valor = parseInt(this.value) || 0;
                if (valor < 0) {
                    this.value = 0;
                } else if (isNaN(this.value) || this.value === '') {
                    this.value = 0;
                } else {
                    this.value = parseInt(this.value);
                }
            });

            // Prevenir entrada de caracteres não numéricos
            inputEstoque.addEventListener('keypress', function(e) {
                if (!/[0-9]/.test(e.key)) {
                    e.preventDefault();
                }
            });
        }

        // Botões de incremento/decremento - Cortar
        var inputCortar = document.getElementById('estoqueCortar');

        if (inputCortar) {
            // Prevenir entrada manual de valores negativos e aceitar apenas números
            inputCortar.addEventListener('input', function() {
                var valor = parseInt(this.value) || 0;
                if (valor < 0) {
                    this.value = 0;
                } else if (isNaN(this.value) || this.value === '') {
                    this.value = 0;
                } else {
                    this.value = parseInt(this.value);
                }
            });

            // Prevenir entrada de caracteres não numéricos
            inputCortar.addEventListener('keypress', function(e) {
                if (!/[0-9]/.test(e.key)) {
                    e.preventDefault();
                }
            });
        }
    }

    // Executar imediatamente quando o script é carregado
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', inicializarEstoqueSeparacao);
    } else {
        // DOM já está pronto
        setTimeout(inicializarEstoqueSeparacao, 50);
    }
</script>

